<!doctype html>
<html>

<head>
    <title>AJAX가 뭔가요?</title>
    <meta charset="utf-8" />
</head>
<style>
h1 {
    color: tomato;
}
#js_ajax {
    width: 50vw;
    height: 30vh;
    background-color: #eeffee;
}
</style>

<body>
    <input type=button value="눌러" onclick="handleJson()">
    
    <script>
    "use strict"

	// %% 기본적으로 같은 오리진에서 주고 받는다
	// %% 오리진: http://web-address.com:8080

    // ! Request obj
    var request = new XMLHttpRequest();
    var url = 'data/';

    // ;read .json
    request.open('POST', url+'data.json', true);
    request.send();

    function handleJson() {
        if (request.readyState == 4) {
            if (request.status == 200) {
                var json = JSON.parse(request.responseText);
                console.log(json);
            }
        }
    }

    /*
    // ! processing...
    request.onreadystatechange = function(event) {
        if (request.readyState == 4) {
            if (request.status == 200) {

                var json = JSON.parse(request.responseText); // if XML: request.responseXML;
                // console.log(json[idx].content.point)
                console.log(json[1].content.point)

                // document.getElementById("js_ajax").innerHTML += request.responseText;
            }
        }
    }

    function ajax_ck() {
        request.open('GET', url + 'data.txt', true);

        request.send();
    }
    */
    </script>
</body>

</html>
