<!doctype html>
<html>

<head>
    <title>AJAX가 뭔가요?</title>
    <meta charset="utf-8" />
</head>
<style>
h1 {
    color: tomato;
}
</style>

<body>
    <input type=button value="눌러" onclick="">
    <select id="sel" onclick="handleSel()">
        <option value="0">HTML</option>
        <option value="1">CSS</option>
        <option value="2">JS</option>
    </select>
    <div id=js_ajax></div>
    <script>
    "use strict"

    // ! Request obj
    var request = new XMLHttpRequest();
    var url = '/jsstudy/AJAXJ/'

    // ;read .json
    request.open('POST', 'data.json', true);
    request.send();

    var idx = -1;

    function handleSel() {
        disp(sel.options.selectedIndex);
    }

    // ! processing...
    // request.onreadystatechange = function(event) {
    //     if (request.readyState == 4) {
    //         if (request.status == 200) {

    //             var json = JSON.parse(request.responseText); // if XML: request.responseXML;
    //             // console.log(json[idx].content.point)
    //             console.log(json[1].content.point)

    //             // document.getElementById("js_ajax").innerHTML += request.responseText;
    //         }
    //     }
    // }

    function disp(x) {
        if (request.readyState == 4) {
            if (request.status == 200) {

                var json = JSON.parse(request.responseText);
                console.log(json[x].content);
            }
        }
    }

    function ajax_ck() {
        request.open('GET', url + 'data.txt', true);

        request.send();
    }
    </script>
</body>

</html>